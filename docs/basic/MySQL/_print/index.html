<!doctype html>
<html itemscope itemtype="http://schema.org/WebPage" lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="canonical" type="text/html" href="https://hamhuo.xyz/docs/basic/mysql/">
<link rel="alternate" type="application/rss&#43;xml" href="https://hamhuo.xyz/docs/basic/mysql/index.xml">
<meta name="robots" content="noindex, nofollow">


<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>MySQL | 海阔集</title>
<meta name="description" content="关系性数据库, 程序员的入门教程">
<meta property="og:url" content="https://hamhuo.xyz/docs/basic/mysql/">
  <meta property="og:site_name" content="海阔集">
  <meta property="og:title" content="MySQL">
  <meta property="og:description" content="关系性数据库, 程序员的入门教程">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="website">

  <meta itemprop="name" content="MySQL">
  <meta itemprop="description" content="关系性数据库, 程序员的入门教程">
  <meta itemprop="dateModified" content="2025-02-11T01:30:25+08:00">
  <meta itemprop="wordCount" content="5">
  <meta itemprop="keywords" content="MySQL">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="MySQL">
  <meta name="twitter:description" content="关系性数据库, 程序员的入门教程">
<link rel="preload" href="/scss/main.min.023240d665d6ea36df214aa4d82691f4a70d71a02d1740f34f44227813c4b7d9.css" as="style" integrity="sha256-AjJA1mXW6jbfIUqk2CaR9KcNcaAtF0DzT0QieBPEt9k=" crossorigin="anonymous">
<link href="/scss/main.min.023240d665d6ea36df214aa4d82691f4a70d71a02d1740f34f44227813c4b7d9.css" rel="stylesheet" integrity="sha256-AjJA1mXW6jbfIUqk2CaR9KcNcaAtF0DzT0QieBPEt9k=" crossorigin="anonymous">
<script
  src="https://code.jquery.com/jquery-3.7.1.min.js"
  integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
  crossorigin="anonymous"></script>
<script defer
  src="https://unpkg.com/lunr@2.3.9/lunr.min.js"
  integrity="sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli"
  crossorigin="anonymous"></script>

  </head>
  <body class="td-section">
    <header>
      <nav class="td-navbar js-navbar-scroll" data-bs-theme="dark">
<div class="container-fluid flex-column flex-md-row">
  <a class="navbar-brand" href="/"><span class="navbar-brand__logo navbar-logo"><svg width="800" height="800" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M23.3 8.40007 21.82 6.40008C21.7248 6.27314 21.6008 6.17066 21.4583 6.10111 21.3157 6.03156 21.1586 5.99693 21 6.00008H11.2C11.0555 6.00007 10.9128 6.03135 10.7816 6.09177 10.6504 6.15219 10.5339 6.24031 10.44 6.35007L8.71998 8.35008C8.57227 8.53401 8.49435 8.76424 8.49998 9.00008V16.2901C8.50262 18.0317 9.19567 19.7013 10.4272 20.9328c1.2316 1.2316 2.9011 1.9246 4.6428 1.9273h1.86C18.6716 22.8574 20.3412 22.1644 21.5728 20.9328c1.2315-1.2315 1.9245-2.9011 1.9272-4.6427V9.00008C23.5 8.7837 23.4298 8.57317 23.3 8.40007z" fill="#ffcc80"/><path d="M29.78 28.38l-4-5C25.664 23.2321 25.5086 23.1198 25.3318 23.0562 25.1549 22.9925 24.9637 22.98 24.78 23.02L16 25 7.21999 23C7.03632 22.96 6.84507 22.9725 6.6682 23.0362 6.49133 23.0998 6.33598 23.2121 6.21999 23.36l-4 5C2.10392 28.5064 2.03116 28.6823 2.00995 28.8679 1.98874 29.0534 2.01993 29.2413 2.09999 29.41 2.17815 29.5839 2.3044 29.7319 2.46385 29.8364 2.62331 29.9409 2.80933 29.9977 2.99999 30H29C29.1885 29.9995 29.373 29.9457 29.5322 29.8448 29.6914 29.744 29.8189 29.6002 29.9 29.43 29.98 29.2613 30.0112 29.0734 29.99 28.8879 29.9688 28.7023 29.8961 28.5264 29.78 28.38z" fill="#01579b"/><path d="M29.29 6.00003l-13-4C16.0999 1.95002 15.9001 1.95002 15.71 2.00003l-13 4c-.21258.06419-.39774.19732-.5263.37838C2.05515 6.55947 1.99052 6.77817 2 7.00003 1.9917 7.22447 2.0592 7.44518 2.19163 7.62659c.13242.1814.32207.31295.53837.37344L15.73 11.6C15.906 11.6534 16.094 11.6534 16.27 11.6l13-3.59997C29.4863 7.93954 29.6759 7.80799 29.8084 7.62659 29.9408 7.44518 30.0083 7.22447 30 7.00003 30.0095 6.77817 29.9448 6.55947 29.8163 6.37841 29.6877 6.19735 29.5026 6.06422 29.29 6.00003z" fill="#01579b"/><path d="M11.22 6C11.0756 5.99999 10.9328 6.03127 10.8016 6.09169 10.6704 6.15211 10.5539 6.24023 10.46 6.35l-1.72 2C8.58509 8.53114 8.49998 8.76166 8.5 9v7.29C8.50264 18.0317 9.19569 19.7012 10.4272 20.9328c1.2316 1.2315 2.9011 1.9246 4.6428 1.9272H16V6H11.22z" fill="#ffe0b2"/><path d="M7.21999 23C7.03632 22.96 6.84507 22.9725 6.6682 23.0362 6.49133 23.0998 6.33598 23.2121 6.21999 23.36l-4 5C2.10392 28.5064 2.03116 28.6823 2.00995 28.8679 1.98874 29.0534 2.01993 29.2413 2.09999 29.41 2.17815 29.5839 2.3044 29.7319 2.46385 29.8364 2.62331 29.9409 2.80933 29.9977 2.99999 30H16V25L7.21999 23z" fill="#0277bd"/><path d="M15.71 2.00002l-13 4C2.49742 6.06422 2.31226 6.19734 2.1837 6.3784c-.12855.18107-.19318.39977-.1837.62162C1.9917 7.22447 2.0592 7.44518 2.19163 7.62658 2.32405 7.80799 2.5137 7.93954 2.73 8.00002L15.73 11.6C15.8194 11.6146 15.9106 11.6146 16 11.6V2.00002C15.9039 1.98469 15.8061 1.98469 15.71 2.00002z" fill="#0277bd"/><path d="M2.73 8.00003l5.77 1.56V16.29C8.50264 18.0317 9.19569 19.7013 10.4272 20.9328c1.2316 1.2315 2.9011 1.9246 4.6428 1.9272h1.86C18.6717 22.8574 20.3412 22.1643 21.5728 20.9328c1.2315-1.2315 1.9246-2.9011 1.9272-4.6428V9.56003l5.77-1.56C29.4863 7.93954 29.6759 7.80799 29.8084 7.62659 29.9408 7.44518 30.0083 7.22447 30 7.00003 30.0095 6.77817 29.9448 6.55947 29.8163 6.37841 29.6877 6.19735 29.5026 6.06422 29.29 6.00003l-13-4C16.0999 1.95002 15.9001 1.95002 15.71 2.00003l-13 4c-.21258.06419-.39774.19732-.5263.37838C2.05515 6.55947 1.99052 6.77817 2 7.00003 1.9917 7.22447 2.0592 7.44518 2.19163 7.62659c.13242.1814.32207.31295.53837.37344zM21.5 16.29C21.4974 17.5013 21.015 18.6621 20.1586 19.5186 19.3021 20.3751 18.1412 20.8574 16.93 20.86H15.07C13.8588 20.8574 12.6979 20.3751 11.8414 19.5186 10.985 18.6621 10.5026 17.5013 10.5 16.29V10.11l5.23 1.45C15.906 11.6134 16.094 11.6134 16.27 11.56l5.23-1.45v6.18zM16 4.05003l9.44 2.95-9.44 2.56-9.44-2.56 9.44-2.95z" fill="#263238"/><path d="M25.78 23.38C25.664 23.2321 25.5086 23.1198 25.3318 23.0562 25.1549 22.9925 24.9637 22.98 24.78 23.02L16 25 7.21999 23C7.03632 22.96 6.84507 22.9725 6.6682 23.0362 6.49133 23.0998 6.33598 23.2121 6.21999 23.36l-4 5C2.10392 28.5064 2.03116 28.6823 2.00995 28.8679 1.98874 29.0534 2.01993 29.2413 2.09999 29.41 2.17815 29.5839 2.3044 29.7319 2.46385 29.8364 2.62331 29.9409 2.80933 29.9977 2.99999 30H29C29.1885 29.9995 29.373 29.9457 29.5322 29.8448 29.6914 29.744 29.8189 29.6002 29.9 29.43 29.98 29.2613 30.0112 29.0734 29.99 28.8879 29.9688 28.7023 29.8961 28.5264 29.78 28.38l-4-5zM5.07999 28l2.31-2.89L15.78 27C15.9251 27.0299 16.0748 27.0299 16.22 27l8.39-1.87L26.92 28H5.07999z" fill="#263238"/></svg></span><span class="navbar-brand__name">海阔集</span></a>
  <div class="td-navbar-nav-scroll ms-md-auto" id="main_navbar">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="/leetcode/"><span>Alog</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link active" href="/docs/"><span>Doc</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/interview/"><span>Interview</span></a>
      </li>
      <li class="td-light-dark-menu nav-item dropdown">
        <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
  <symbol id="check2" viewBox="0 0 16 16">
    <path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"/>
  </symbol>
  <symbol id="circle-half" viewBox="0 0 16 16">
    <path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"/>
  </symbol>
  <symbol id="moon-stars-fill" viewBox="0 0 16 16">
    <path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"/>
    <path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"/>
  </symbol>
  <symbol id="sun-fill" viewBox="0 0 16 16">
    <path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/>
  </symbol>
</svg>

<button class="btn btn-link nav-link dropdown-toggle d-flex align-items-center"
        id="bd-theme"
        type="button"
        aria-expanded="false"
        data-bs-toggle="dropdown"
        data-bs-display="static"
        aria-label="Toggle theme (auto)">
  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg>
</button>
<ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
  <li>
    <button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
      <svg class="bi me-2 opacity-50"><use href="#sun-fill"></use></svg>
      Light
      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg>
    </button>
  </li>
  <li>
    <button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
      <svg class="bi me-2 opacity-50"><use href="#moon-stars-fill"></use></svg>
      Dark
      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg>
    </button>
  </li>
  <li>
    <button type="button" class="dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
      <svg class="bi me-2 opacity-50"><use href="#circle-half"></use></svg>
      Auto
      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg>
    </button>
  </li>
</ul>

      </li>
      </ul>
  </div>
  <div class="d-none d-lg-block">
    <div class="td-search td-search--offline">
  <div class="td-search__icon"></div>
  <input
    type="search"
    class="td-search__input form-control"
    placeholder="Search this site…"
    aria-label="Search this site…"
    autocomplete="off"
    
    data-offline-search-index-json-src="/offline-search-index.57c97b0d4c4578c4d5841673c34c565e.json"
    data-offline-search-base-href="/"
    data-offline-search-max-results="10"
  >
</div>
  </div>
</div>
</nav>
    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <main class="col-12 col-md-9 col-xl-8 ps-md-5" role="main">
            




<div class="td-content">
<div class="pageinfo pageinfo-primary d-print-none">
<p>
This is the multi-page printable view of this section.
<a href="#" onclick="print();return false;">Click here to print</a>.
</p><p>
<a href="/docs/basic/mysql/">Return to the regular view of this page</a>.
</p>
</div>



<h1 class="title">MySQL</h1>
<div class="lead">关系性数据库, 程序员的入门教程</div>




    <ul>
    
  
  
  
  

  
    
    
	
<li>1: <a href="#pg-e03b3b407ae2c157a75929111db4a065">MySQL字符集和比较规则</a></li>


    
  
    
    
	
<li>2: <a href="#pg-fadb4161cda4eb7aee82d35d77a64105">MySQL数据库操作</a></li>


    
  
    
    
	
<li>3: <a href="#pg-ba3f3c8094c6e9acf93aa7c53ef12f2f">MySQL数据库查询</a></li>


    
  
    
    
	
<li>4: <a href="#pg-5c7eb05872462e8972765a1ac361bc03">MySQL数据类型</a></li>


    
  
    
    
	
<li>5: <a href="#pg-d18d448ea26b2380832c20eaee109e3b">MySQL条件查询</a></li>


    
  
    
    
	
<li>6: <a href="#pg-dd6b1cabeabe05faa69894fce4691a32">MySQL索引</a></li>


    
  
    
    
	
<li>7: <a href="#pg-48d22b2363579601962c96e1f427026c">MySQL表操作</a></li>


    
  
    
    
	
<li>8: <a href="#pg-72f6cc384aaed4cbd273131839780dae">MySQL连接</a></li>


    
  
    
    
	
<li>9: <a href="#pg-aec71f889e3edd1c2c139a8adbb7b003">事务</a></li>


    
  
    
    
	
<li>10: <a href="#pg-08e11208f63c4c90dea1f03705b7cce5">数据库设计规范</a></li>


    
  

    </ul>


<div class="content">
      <p>内容来源:</p>
<ul>
<li>沉默王二 GitHub 上开源的知识库《<a href="https://github.com/itwanger/toBeBetterJavaer">Java 进阶之路</a>》</li>
</ul>

</div>
</div>


  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-e03b3b407ae2c157a75929111db4a065">1 - MySQL字符集和比较规则</h1>
    <div class="lead">当我们创建数据库或者表的时候，就要指定字符集和比较规则。 不指定则MySQL 默认。</div>
	<h4 id="字符集">字符集<a class="td-heading-self-link" href="#%e5%ad%97%e7%ac%a6%e9%9b%86" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><p>计算机的世界里，它是只认识 0 和 1 的, 那汉字怎么办? 英文怎么办?</p>
<p>我们在屏幕上看到的英文、汉字等字符是二进制数转换之后的结果</p>
<p>通俗的说，按照何种规则将字符存储在计算机中，如&rsquo;a&rsquo;用什么表示，称为&quot;编码&quot;；反之，将存储在计算机中的二进制数解析显示出来，称为&quot;解码&quot;,如果使用了错误的解码规则，则导致&rsquo;a&rsquo;解析成&rsquo;b&rsquo;或者乱码。</p>
<h4 id="ascii字符集编码">ASCII字符集&amp;编码<a class="td-heading-self-link" href="#ascii%e5%ad%97%e7%ac%a6%e9%9b%86%e7%bc%96%e7%a0%81" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><blockquote>
<p>ASCII(American Standard Code for Information Interchange，美国信息交换标准代码)</p>
<p>是基于拉丁字母的一套电脑编码系统。它主要用于显示现代英语</p></blockquote>
<p><img src="https://raw.githubusercontent.com/hamhuo-hub/HamPic/img/img/20250211010458860.png" alt="image.png"></p>
<p><img src="https://raw.githubusercontent.com/hamhuo-hub/HamPic/img/img/20250211010511256.png" alt="image.png"></p>
<p>ASCII的最大缺点是只能显示26个基本拉丁字母、阿拉伯数目字和英式标点符号，因此只能用于显示现代美国英语</p>
<blockquote>
<p>已经淘汰</p></blockquote>
<h3 id="gbxxxx字符集编码">GBXXXX字符集&amp;编码<a class="td-heading-self-link" href="#gbxxxx%e5%ad%97%e7%ac%a6%e9%9b%86%e7%bc%96%e7%a0%81" aria-label="Heading self-link"></a></h3>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><p>计算机发明之处及后面很长一段时间，只用应用于美国及西方一些发达国家，ASCII能够很好满足用户的需求。</p>
<p>但是当天朝也有了计算机之后，为了显示中文，必须设计一套编码规则用于将汉字转换为计算机可以接受的数字系统的字符集。</p>
<p><img src="https://raw.githubusercontent.com/hamhuo-hub/HamPic/img/img/20250211010616455.png" alt="image.png"></p>
<blockquote>
<p>什么都有, 基本东亚文字全了</p></blockquote>
<p>GBK是对GB2312-80的扩展, 收录了繁体</p>
<h2 id="unicode字符集utf编码">Unicode字符集&amp;UTF编码<a class="td-heading-self-link" href="#unicode%e5%ad%97%e7%ac%a6%e9%9b%86utf%e7%bc%96%e7%a0%81" aria-label="Heading self-link"></a></h2>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><p><em>你说的对, 但是每个国家有自己的编码</em></p>
<p>那网络聊天怎么办? 编码不同根本无法识别</p>
<p>为了解决这个问题，一个伟大的创想产生了——Unicode。Unicode编码系统为表达任意语言的任意字符而设计。
被几种语言共用的字符通常使用相同的数字来编码, 不存在二义性。不再需要记录&quot;模式&quot;了</p>
<p>MySQL的UTF-8最多支持三个字节</p>
<p>UTF-8mb4支持四个字节</p>
<h4 id="比较规则">比较规则<a class="td-heading-self-link" href="#%e6%af%94%e8%be%83%e8%a7%84%e5%88%99" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" />
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-fadb4161cda4eb7aee82d35d77a64105">2 - MySQL数据库操作</h1>
    <div class="lead">十分钟快速上手MySQL</div>
	<p>十分钟快速上手MySQL</p>
<h4 id="创建数据库">创建数据库<a class="td-heading-self-link" href="#%e5%88%9b%e5%bb%ba%e6%95%b0%e6%8d%ae%e5%ba%93" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><div class="highlight"><pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#ca9ee6">create</span> <span style="color:#ca9ee6">database</span> <span style="color:#e78284">数据库名</span>;
</span></span></code></pre></div><blockquote>
<p>提示:</p>
<ol>
<li>上下箭头可以切换之前执行的指令</li>
<li>记得加分号</li>
</ol></blockquote>
<h4 id="切换数据库">切换数据库<a class="td-heading-self-link" href="#%e5%88%87%e6%8d%a2%e6%95%b0%e6%8d%ae%e5%ba%93" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><div class="highlight"><pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>use <span style="color:#e78284">数据库名</span>;
</span></span></code></pre></div><h4 id="删除数据库">删除数据库<a class="td-heading-self-link" href="#%e5%88%a0%e9%99%a4%e6%95%b0%e6%8d%ae%e5%ba%93" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><blockquote>
<p>提示:
这个指令一般不用😂</p></blockquote>
<div class="highlight"><pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#ca9ee6">drop</span> <span style="color:#ca9ee6">database</span> <span style="color:#e78284">数据库名</span>;
</span></span></code></pre></div><blockquote>
<p>了解
<a href="/docs/basic/mysql/mysql%E8%A1%A8%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/">表</a></p></blockquote>
<h4 id="java交互mysql">Java交互MySQL<a class="td-heading-self-link" href="#java%e4%ba%a4%e4%ba%92mysql" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><p>上述都是命令行操作</p>
<p>如何在Java程序对数据库进行操作?</p>
<blockquote>
<p>驱动
和显卡驱动, 网卡驱动类似, Java程序想要对MySQL做操作时也需要这样的桥梁</p></blockquote>
<p><a href="https://dev.mysql.com/downloads/connector/j/">MySQL Connector/J</a></p>
<blockquote>
<p><code>classpath</code>
也就是 <code>src/main/resources</code> 目录</p></blockquote>
<p>将下载的 <code>.jar</code> 包放到项目 <code>classpath</code> 下</p>
<p>在IDE中写一个类连接到服务器</p>
<div class="highlight"><pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#e78284">class</span> <span style="color:#e5c890">DatabaseCreator</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#e78284">private</span> <span style="color:#e78284">static</span> <span style="color:#e78284">final</span> String URL <span style="color:#99d1db;font-weight:bold">=</span> <span style="color:#a6d189">&#34;jdbc:mysql://localhost:3306/?useSSL=false&amp;serverTimezone=UTC&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#e78284">private</span> <span style="color:#e78284">static</span> <span style="color:#e78284">final</span> String USER <span style="color:#99d1db;font-weight:bold">=</span> <span style="color:#a6d189">&#34;root&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#e78284">private</span> <span style="color:#e78284">static</span> <span style="color:#e78284">final</span> String PASSWORD <span style="color:#99d1db;font-weight:bold">=</span> <span style="color:#a6d189">&#34;Codingmore123&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#e78284">private</span> <span style="color:#e78284">static</span> <span style="color:#e78284">final</span> String DATABASE_NAME <span style="color:#99d1db;font-weight:bold">=</span> <span style="color:#a6d189">&#34;pai_coding&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#e78284">public</span> <span style="color:#e78284">static</span> <span style="color:#e78284">void</span> <span style="color:#8caaee">main</span>(String<span style="color:#99d1db;font-weight:bold">[]</span> args) {
</span></span><span style="display:flex;"><span>        <span style="color:#ca9ee6">try</span> (Connection conn <span style="color:#99d1db;font-weight:bold">=</span> DriverManager.<span style="color:#8caaee">getConnection</span>(URL, USER, PASSWORD);
</span></span><span style="display:flex;"><span>             Statement stmt <span style="color:#99d1db;font-weight:bold">=</span> conn.<span style="color:#8caaee">createStatement</span>()) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#ca9ee6">if</span> (<span style="color:#99d1db;font-weight:bold">!</span>databaseExists(conn, DATABASE_NAME)) {
</span></span><span style="display:flex;"><span>                stmt.<span style="color:#8caaee">executeUpdate</span>(<span style="color:#a6d189">&#34;CREATE DATABASE IF NOT EXISTS &#34;</span> <span style="color:#99d1db;font-weight:bold">+</span> DATABASE_NAME);
</span></span><span style="display:flex;"><span>                System.<span style="color:#8caaee">out</span>.<span style="color:#8caaee">println</span>(<span style="color:#a6d189">&#34;数据库创建成功&#34;</span>);
</span></span><span style="display:flex;"><span>            } <span style="color:#ca9ee6">else</span> {
</span></span><span style="display:flex;"><span>                System.<span style="color:#8caaee">out</span>.<span style="color:#8caaee">println</span>(<span style="color:#a6d189">&#34;数据库已经存在&#34;</span>);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        } <span style="color:#ca9ee6">catch</span> (SQLException e) {
</span></span><span style="display:flex;"><span>            e.<span style="color:#8caaee">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#e78284">private</span> <span style="color:#e78284">static</span> <span style="color:#e78284">boolean</span> <span style="color:#8caaee">databaseExists</span>(Connection conn, String dbName) <span style="color:#e78284">throws</span> SQLException {
</span></span><span style="display:flex;"><span>        ResultSet resultSet <span style="color:#99d1db;font-weight:bold">=</span> conn.<span style="color:#8caaee">getMetaData</span>().<span style="color:#8caaee">getCatalogs</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#ca9ee6">while</span> (resultSet.<span style="color:#8caaee">next</span>()) {
</span></span><span style="display:flex;"><span>            <span style="color:#ca9ee6">if</span> (dbName.<span style="color:#8caaee">equals</span>(resultSet.<span style="color:#8caaee">getString</span>(1))) {
</span></span><span style="display:flex;"><span>                <span style="color:#ca9ee6">return</span> <span style="color:#ef9f76">true</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#ca9ee6">return</span> <span style="color:#ef9f76">false</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><code>DriverManager.getConnection(URL, USER, PASSWORD)</code>：通过 JDBC 建立到 MySQL 服务器的连接。</p>
<blockquote>
<p>初学者不需要完全明白这些代码</p></blockquote>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-ba3f3c8094c6e9acf93aa7c53ef12f2f">3 - MySQL数据库查询</h1>
    <div class="lead">在日常的开发工作中，查询语句也是最常用的</div>
	<p>在日常的开发工作中，查询语句也是最常用的，因为表在一开始设计的时候已经确定了，后期很少去修改表结构，也就意味着插入数据的方式也是确定的</p>
<p>但数据的展示方式却千奇百怪，用户端和 admin 管理端可能需要各种各样的数据，那 MySQL 就要提供最接近需求的数据，这样可以节省 Java 程序对数据的转换处理，也就相应提升了程序的性能。</p>
<p><code>SELECT</code> 语句可以灵活组织不同表的数据, 提供最接近需求的组合</p>
<blockquote>
<p>提示:
接下来的操作默认是单库操作
也就是说需要先选中某个数据库,
快去选择吧</p></blockquote>
<h4 id="查询单个字段">查询单个字段<a class="td-heading-self-link" href="#%e6%9f%a5%e8%af%a2%e5%8d%95%e4%b8%aa%e5%ad%97%e6%ae%b5" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><blockquote>
<p>记录
我们把表中的每一行叫做一个“记录”，每一个记录包含这行中的所有信息，就像在<a href="https://baike.baidu.com/item/%E9%80%9A%E8%AE%AF%E5%BD%95/9635277?fromModule=lemma_inlink">通讯录</a>数据库中某个人全部的信息，但记录在数据库中并没有专门的记录名，常常用它所在的行数表示这是第几个记录。</p></blockquote>
<blockquote>
<p>字段
字段是比记录更小的单位，字段集合组成记录，每个字段描述文献的某一特征，即<a href="https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E9%A1%B9/3227309?fromModule=lemma_inlink">数据项</a>，并有唯一的供计算机识别的<a href="https://baike.baidu.com/item/%E5%AD%97%E6%AE%B5%E6%A0%87%E8%AF%86%E7%AC%A6/53627692?fromModule=lemma_inlink">字段标识符</a>。</p></blockquote>
<div class="highlight"><pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#ca9ee6">SELECT</span> <span style="color:#e78284">字段名</span> <span style="color:#ca9ee6">FROM</span> <span style="color:#e78284">表名</span>;
</span></span></code></pre></div><p><img src="https://raw.githubusercontent.com/hamhuo-hub/HamPic/img/img/20250211000414373.png" alt="image.png"></p>
<h4 id="别名">别名<a class="td-heading-self-link" href="#%e5%88%ab%e5%90%8d" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><p>查出来的字段名字太长, 先更换名字
可以使用 <code>AS</code> 关键字，格式如下所示</p>
<div class="highlight"><pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#ca9ee6">SELECT</span> <span style="color:#e78284">字段名</span> <span style="color:#ca9ee6">AS</span> <span style="color:#e78284">别名</span> <span style="color:#ca9ee6">FROM</span> <span style="color:#e78284">表名</span>;
</span></span></code></pre></div><p>这通常会在多表进行联合查询或者 Java 程序端和 MySQL 表字段不一致时使用。</p>
<p>比如说，Java 程序端的字段名是 <code>articleTitle</code>，那我们就可以使用别名来解决这个问题。</p>
<div class="highlight"><pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#ca9ee6">SELECT</span> title <span style="color:#ca9ee6">AS</span> articleTitle <span style="color:#ca9ee6">FROM</span> article;
</span></span></code></pre></div><h4 id="查询多个字段">查询多个字段<a class="td-heading-self-link" href="#%e6%9f%a5%e8%af%a2%e5%a4%9a%e4%b8%aa%e5%ad%97%e6%ae%b5" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><p>有时候我们需要同时拿到多个字段</p>
<div class="highlight"><pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#ca9ee6">SELECT</span> <span style="color:#e78284">字段</span><span style="color:#ef9f76">1</span>, <span style="color:#e78284">字段</span><span style="color:#ef9f76">2</span>, <span style="color:#e78284">字段</span><span style="color:#ef9f76">3</span> <span style="color:#ca9ee6">FROM</span> <span style="color:#e78284">表名</span>;
</span></span></code></pre></div><h4 id="查询所有字段">查询所有字段<a class="td-heading-self-link" href="#%e6%9f%a5%e8%af%a2%e6%89%80%e6%9c%89%e5%ad%97%e6%ae%b5" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><blockquote>
<p>了解
<a href="%E9%80%9A%E9%85%8D%E7%AC%A6.md">通配符</a></p></blockquote>
<div class="highlight"><pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#ca9ee6">SELECT</span> <span style="color:#99d1db;font-weight:bold">*</span> <span style="color:#ca9ee6">FROM</span> <span style="color:#e78284">表名</span>;
</span></span></code></pre></div><h4 id="查询结果去重">查询结果去重<a class="td-heading-self-link" href="#%e6%9f%a5%e8%af%a2%e7%bb%93%e6%9e%9c%e5%8e%bb%e9%87%8d" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><p>有可能多个记录会有相同的字段值, 这很正常
懒得一个个分辨可以去重
使用 <code>DISTINCT</code> 关键字进行查询</p>
<div class="highlight"><pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#ca9ee6">SELECT</span> <span style="color:#ca9ee6">DISTINCT</span> <span style="color:#e78284">字段名</span> <span style="color:#ca9ee6">FROM</span> <span style="color:#e78284">表名</span>;
</span></span></code></pre></div><h4 id="查询结果排序">查询结果排序<a class="td-heading-self-link" href="#%e6%9f%a5%e8%af%a2%e7%bb%93%e6%9e%9c%e6%8e%92%e5%ba%8f" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><p>当结果集中需要排序时，可以使用 <code>ORDER BY</code> 关键字进行查询，格式如下所示：</p>
<div class="highlight"><pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#ca9ee6">SELECT</span> <span style="color:#e78284">字段名</span> <span style="color:#ca9ee6">FROM</span> <span style="color:#e78284">表名</span> <span style="color:#ca9ee6">ORDER</span> <span style="color:#ca9ee6">BY</span> <span style="color:#e78284">字段名</span> [<span style="color:#ca9ee6">ASC</span><span style="color:#99d1db;font-weight:bold">|</span><span style="color:#ca9ee6">DESC</span>];
</span></span></code></pre></div><h4 id="查询结果限制条数">查询结果限制条数<a class="td-heading-self-link" href="#%e6%9f%a5%e8%af%a2%e7%bb%93%e6%9e%9c%e9%99%90%e5%88%b6%e6%9d%a1%e6%95%b0" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><p>我们只想要其中的1条或多条, 从哪里开始找, 查找几行结束</p>
<div class="highlight"><pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#ca9ee6">SELECT</span> <span style="color:#e78284">字段名</span> <span style="color:#ca9ee6">FROM</span> <span style="color:#e78284">表名</span> <span style="color:#ca9ee6">LIMIT</span> <span style="color:#e78284">开始行</span>,<span style="color:#e78284">行数</span>;
</span></span></code></pre></div><blockquote>
<p>开始行也叫偏移量（OFFSET），默认是 0，可以缺省。</p></blockquote>
<blockquote>
<p>了解:
<a href="/docs/basic/mysql/mysql%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2/">MySQL条件查询</a></p></blockquote>
<h4 id="统计">统计<a class="td-heading-self-link" href="#%e7%bb%9f%e8%ae%a1" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><p>返回记录数</p>
<div class="highlight"><pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#ca9ee6">SELECT</span> <span style="color:#ca9ee6">COUNT</span>(ProductID) <span style="color:#ca9ee6">FROM</span> Products;
</span></span></code></pre></div><blockquote>
<p>注意
此方法会忽略NULL记录!</p>
<p>COUNT(1)</p>
<p>COUNT(<code>*</code>)</p>
<p><code>count(1)</code> 是计算所有记录数，<code>1</code> 被视作一个常数值，在每一行都存在，因此与 <code>count(*)</code> 基本相同。</p></blockquote>
<h4 id="mysql的数据引擎有哪些">mysql的数据引擎有哪些?<a class="td-heading-self-link" href="#mysql%e7%9a%84%e6%95%b0%e6%8d%ae%e5%bc%95%e6%93%8e%e6%9c%89%e5%93%aa%e4%ba%9b" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><p>区别是什么?</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-5c7eb05872462e8972765a1ac361bc03">4 - MySQL数据类型</h1>
    <div class="lead">当我们要创建表的时候，就要根据业务需求，选择合适的数据类型。</div>
	<p>表是由不同数据类型的列组成的，然后填充了一行一行的数据。当我们要创建表的时候，就要根据业务需求，选择合适的数据类型。</p>
<h4 id="整数类型">整数类型<a class="td-heading-self-link" href="#%e6%95%b4%e6%95%b0%e7%b1%bb%e5%9e%8b" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><table>
  <thead>
      <tr>
          <th>类型名称</th>
          <th>存储空间</th>
          <th>范围</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>tinyint</td>
          <td>1 字节</td>
          <td>-128 到 127 或者 0 到 255</td>
      </tr>
      <tr>
          <td>int</td>
          <td>4 字节</td>
          <td>-2147483648 到 2147483647 或者 0 到 4294967295</td>
      </tr>
      <tr>
          <td>bigint</td>
          <td>8 字节</td>
          <td>-9223372036854775808 到 9223372036854775807 或者 0 到 18446744073709551615</td>
      </tr>
  </tbody>
</table>
<blockquote>
<p>其实还有个 2 字节的 smallint 但是不常用</p></blockquote>
<p>设计表时</p>
<ul>
<li>对于状态\类型字段使用 <code>tinyint</code></li>
<li>记录id, 主键id等使用 <code>bigint</code></li>
<li>其他用<code>int</code></li>
</ul>
<h5 id="符号">符号?<a class="td-heading-self-link" href="#%e7%ac%a6%e5%8f%b7" aria-label="Heading self-link"></a></h5>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><p>这里注意, MySQL是存在有/无符号整型之分的, Java默认有符号</p>
<p>当涉及到负数表示时, 为了兼容, Java中必须使用<code>Long</code> 型</p>
<p>因为Java的<code>int</code>范围和MySQL不同分别是-2147483648 到 2147483647, 和 0 到 4294967295(无符号)</p>
<p>所以在设计表时, 整数的符号也要考虑</p>
<p>像自增 ID，肯定是无符号的，所以我们会在定义的时候将其设置为 <code>unsigned</code></p>
<h5 id="显示宽度">显示宽度?<a class="td-heading-self-link" href="#%e6%98%be%e7%a4%ba%e5%ae%bd%e5%ba%a6" aria-label="Heading self-link"></a></h5>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><div class="highlight"><pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#ca9ee6">CREATE</span> <span style="color:#ca9ee6">TABLE</span> <span style="color:#99d1db;font-weight:bold">`</span>test<span style="color:#99d1db;font-weight:bold">`</span> (
</span></span><span style="display:flex;"><span>  <span style="color:#99d1db;font-weight:bold">`</span>id<span style="color:#99d1db;font-weight:bold">`</span> <span style="color:#99d1db">int</span>(<span style="color:#ef9f76">10</span>) unsigned <span style="color:#ca9ee6">NOT</span> <span style="color:#ca9ee6">NULL</span> AUTO_INCREMENT,
</span></span><span style="display:flex;"><span>  <span style="color:#99d1db;font-weight:bold">`</span>int10<span style="color:#99d1db;font-weight:bold">`</span> <span style="color:#99d1db">int</span>(<span style="color:#ef9f76">10</span>) <span style="color:#ca9ee6">NOT</span> <span style="color:#ca9ee6">NULL</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#99d1db;font-weight:bold">`</span>int11<span style="color:#99d1db;font-weight:bold">`</span> <span style="color:#99d1db">int</span>(<span style="color:#ef9f76">11</span>) <span style="color:#ca9ee6">NOT</span> <span style="color:#ca9ee6">NULL</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#99d1db;font-weight:bold">`</span><span style="color:#99d1db">int</span><span style="color:#99d1db;font-weight:bold">`</span> <span style="color:#99d1db">int</span> <span style="color:#ca9ee6">NOT</span> <span style="color:#ca9ee6">NULL</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#ca9ee6">PRIMARY</span> <span style="color:#ca9ee6">KEY</span> (<span style="color:#99d1db;font-weight:bold">`</span>id<span style="color:#99d1db;font-weight:bold">`</span>)
</span></span><span style="display:flex;"><span>) ENGINE<span style="color:#99d1db;font-weight:bold">=</span>InnoDB <span style="color:#ca9ee6">DEFAULT</span> CHARSET<span style="color:#99d1db;font-weight:bold">=</span>utf8mb4;
</span></span></code></pre></div><p>经常设计表的同学知道, <code>int(10)</code> 和 <code>int(11)</code> 指的是显示宽度的不同, 这里不涉及精度的问题, 多余的位用0填充</p>
<p>就是视觉规定而已</p>
<blockquote>
<p>了解
<a href="https://alex.kirk.at/2007/08/24/what-does-size-in-intsize-of-mysql-mean/">ALEX</a> 的博客写的很好</p></blockquote>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-d18d448ea26b2380832c20eaee109e3b">5 - MySQL条件查询</h1>
    <div class="lead">真实的业务场景中，数量会非常大，有些甚至会有几百万、几千万条数据，如果不带上查询条件，一次性把全部数据查出来是不太现实的。</div>
	<p>SELECT 查询没有查询条件。比如只返回姓名为xx的人, 年龄为xx的人等条件</p>
<p>要知道，真实的业务场景中，数量会非常大，有些甚至会有几百万、几千万条数据，如果不带上查询条件，一次性把全部数据查出来是不太现实的。</p>
<p>所以，我们通常要求在执行 SELECT 查询时，都要带上查询条件。那这一节，我们就来学习一些简单的 WHERE 条件查询。</p>
<h4 id="查询操作符">查询操作符<a class="td-heading-self-link" href="#%e6%9f%a5%e8%af%a2%e6%93%8d%e4%bd%9c%e7%ac%a6" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><table>
  <thead>
      <tr>
          <th>操作符</th>
          <th>示例</th>
          <th>描述</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>=</code></td>
          <td><code>user_id = 1</code></td>
          <td>等于</td>
      </tr>
      <tr>
          <td><code>!=</code> 或 <code>&lt;&gt;</code></td>
          <td><code>user_id != 1</code> 或 <code>user_id &lt;&gt; 1</code></td>
          <td>不等于</td>
      </tr>
      <tr>
          <td><code>&gt;</code></td>
          <td><code>user_id &gt; 1</code></td>
          <td>大于</td>
      </tr>
      <tr>
          <td><code>&lt;</code></td>
          <td><code>user_id &lt; 1</code></td>
          <td>小于</td>
      </tr>
      <tr>
          <td><code>&gt;=</code></td>
          <td><code>user_id &gt;= 1</code></td>
          <td>大于等于</td>
      </tr>
      <tr>
          <td><code>&lt;=</code></td>
          <td><code>user_id &lt;= 1</code></td>
          <td>小于等于</td>
      </tr>
  </tbody>
</table>
<p>示例:
查找id大于1000的文章</p>
<div class="highlight"><pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#ca9ee6">SELECT</span> title, user_id, create_time <span style="color:#ca9ee6">FROM</span> article <span style="color:#ca9ee6">WHERE</span> user_id <span style="color:#99d1db;font-weight:bold">&gt;</span> <span style="color:#ef9f76">1000</span>;
</span></span></code></pre></div><h4 id="区间查询">区间查询<a class="td-heading-self-link" href="#%e5%8c%ba%e9%97%b4%e6%9f%a5%e8%af%a2" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><p>利用一个 <code>&gt;=</code> 和一个 <code>&lt;=</code>，配合 <code>AND</code> 关键字，就可以实现区间查询</p>
<div class="highlight"><pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#ca9ee6">SELECT</span> <span style="color:#e78284">字段名</span> <span style="color:#ca9ee6">FROM</span> <span style="color:#e78284">表</span> <span style="color:#ca9ee6">WHERE</span> user_id <span style="color:#99d1db;font-weight:bold">&gt;=</span> <span style="color:#ef9f76">1000</span> <span style="color:#ca9ee6">AND</span> user_id <span style="color:#99d1db;font-weight:bold">&lt;=</span> <span style="color:#ef9f76">2000</span>;
</span></span></code></pre></div><p>查询上下界id为1000 到 2000 的文章</p>
<blockquote>
<p>其实就是规定上下界
所以可以用 <code>BETWEEN</code> 代替</p></blockquote>
<div class="highlight"><pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#ca9ee6">SELECT</span> title, user_id, create_time <span style="color:#ca9ee6">FROM</span> article <span style="color:#ca9ee6">WHERE</span> user_id <span style="color:#ca9ee6">BETWEEN</span> <span style="color:#ef9f76">1000</span> <span style="color:#ca9ee6">AND</span> <span style="color:#ef9f76">2000</span>;
</span></span></code></pre></div><p>取反也可以, 加上 <code>NOT</code> 就行</p>
<div class="highlight"><pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#ca9ee6">SELECT</span> title, user_id, create_time <span style="color:#ca9ee6">FROM</span> article <span style="color:#ca9ee6">WHERE</span> user_id <span style="color:#ca9ee6">NOT</span> <span style="color:#ca9ee6">BETWEEN</span> <span style="color:#ef9f76">1000</span> <span style="color:#ca9ee6">AND</span> <span style="color:#ef9f76">2000</span>;
</span></span></code></pre></div><blockquote>
<p>感觉比Python简单</p></blockquote>
<h4 id="枚举查询">枚举查询<a class="td-heading-self-link" href="#%e6%9e%9a%e4%b8%be%e6%9f%a5%e8%af%a2" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><p>当区间为1, 其实就是枚举, 这就不需要指定上下界了
我们可以直接指定数值 用 <code>IN</code></p>
<p>查询 user_id 是 1、2、3 的文章</p>
<div class="highlight"><pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#ca9ee6">SELECT</span> title, user_id, create_time <span style="color:#ca9ee6">FROM</span> article <span style="color:#ca9ee6">WHERE</span> user_id <span style="color:#ca9ee6">IN</span> (<span style="color:#ef9f76">1</span>, <span style="color:#ef9f76">2</span>, <span style="color:#ef9f76">3</span>); 
</span></span></code></pre></div><p>当然可以取反. 此略</p>
<h4 id="逻辑操作符">逻辑操作符<a class="td-heading-self-link" href="#%e9%80%bb%e8%be%91%e6%93%8d%e4%bd%9c%e7%ac%a6" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><p>除了数据操作符外还可以进行逻辑判断</p>
<p>其实上文的 <code>AND</code> 就是一个</p>
<p><code>AND</code> 操作符用于组合多个查询条件，只有当所有的条件都满足时，才会返回结果</p>
<div class="highlight"><pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#ca9ee6">SELECT</span> title, user_id, create_time <span style="color:#ca9ee6">FROM</span> article <span style="color:#ca9ee6">WHERE</span> user_id <span style="color:#99d1db;font-weight:bold">!=</span> <span style="color:#ef9f76">1</span> <span style="color:#ca9ee6">AND</span> title <span style="color:#99d1db;font-weight:bold">=</span> <span style="color:#a6d189">&#39;something&#39;</span>;
</span></span></code></pre></div><p><code>OR</code>与其类似</p>
<p>可以使用<code>()</code> 指定优先级</p>
<div class="highlight"><pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#ca9ee6">SELECT</span> title, user_id, create_time <span style="color:#ca9ee6">FROM</span> article <span style="color:#ca9ee6">WHERE</span> user_id <span style="color:#99d1db;font-weight:bold">!=</span> <span style="color:#ef9f76">1</span> <span style="color:#ca9ee6">AND</span> (title <span style="color:#99d1db;font-weight:bold">=</span> <span style="color:#a6d189">&#39;聊聊分库分表&#39;</span> <span style="color:#ca9ee6">OR</span> short_title <span style="color:#99d1db;font-weight:bold">!=</span> <span style="color:#a6d189">&#39;&#39;</span>);
</span></span></code></pre></div><p><code>in</code></p>
<p>in查询相当于多个or条件的叠加，这个比较好理解，比如下面的查询：</p>
<div class="highlight"><pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#ca9ee6">select</span> <span style="color:#99d1db;font-weight:bold">*</span> <span style="color:#ca9ee6">from</span> <span style="color:#ca9ee6">user</span> <span style="color:#ca9ee6">where</span> user_id <span style="color:#ca9ee6">in</span> (<span style="color:#ef9f76">1</span>, <span style="color:#ef9f76">2</span>, <span style="color:#ef9f76">3</span>);
</span></span></code></pre></div><p><code>exists</code></p>
<div class="highlight"><pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#ca9ee6">select</span> <span style="color:#99d1db;font-weight:bold">*</span> <span style="color:#ca9ee6">from</span> <span style="color:#ca9ee6">user</span> <span style="color:#ca9ee6">where</span> <span style="color:#ca9ee6">exists</span> (<span style="color:#ca9ee6">select</span> <span style="color:#99d1db;font-weight:bold">*</span> <span style="color:#ca9ee6">from</span> <span style="color:#ca9ee6">user</span> <span style="color:#ca9ee6">where</span> user_id <span style="color:#99d1db;font-weight:bold">=</span> <span style="color:#ef9f76">0</span>);
</span></span></code></pre></div><p>这两个都是条件嵌套</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-dd6b1cabeabe05faa69894fce4691a32">6 - MySQL索引</h1>
    <div class="lead">除了对于准备面试来说非常重要之外，善用索引对 SQL 的性能提升非常明显，是一个性价比较高的 SQL 优化手段。</div>
	<h4 id="索引介绍">索引介绍<a class="td-heading-self-link" href="#%e7%b4%a2%e5%bc%95%e4%bb%8b%e7%bb%8d" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><p>我们知道一般的应用系统，读写比例在10:1左右，而且插入操作和一般的更新操作很少出现性能问题，遇到最多的，也是最容易出问题的，还是一些复杂的查询操作，所以查询语句的优化显然是重中之重。</p>
<p>**索引是一种用于快速查询和检索数据的数据结构，其本质可以看成是一种排序好的数据结构。通过存储指向数据行的指针，可以快速定位和访问表中的特定数据。</p>
<p>开始之前, 我们直观的体会下索引</p>
<p>如果要查询 mysql 单词, 我们就需要字符匹配, 首先是 m, y 之后是 s,q l
在接近上万条的记录中我们需要把整个表过一遍, 天哪
因此索引的目的就是为了缩小搜索范围来获取想要的数据结果
很容易想到将表分段, 通过确定某个分段的方式来获取数据</p>
<blockquote>
<p>了解:
<a href="%E9%82%A3%E4%BA%9B%E7%88%B1%E8%BF%87%E7%9A%84%E6%A0%91,%E5%B7%B2%E7%BB%8F%E9%95%BF%E6%88%90%E4%BA%86%E6%A3%AE%E6%9E%97.md">数据结构-树</a></p></blockquote>
<h4 id="索引的类型">索引的类型<a class="td-heading-self-link" href="#%e7%b4%a2%e5%bc%95%e7%9a%84%e7%b1%bb%e5%9e%8b" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><h5 id="主键索引">主键索引:<a class="td-heading-self-link" href="#%e4%b8%bb%e9%94%ae%e7%b4%a2%e5%bc%95" aria-label="Heading self-link"></a></h5>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><p>数据表的主键列使用的就是主键索引。</p>
<p>一张数据表只能有一个主键, 并且不能重复, 不能为NULL</p>
<p>INNODB中, 引擎在没有显示指定主键的情况下, 会优先判断检查是否有唯一索引且没有NULL的字段, 如果有就选择该字段为默认的主键, 否则引擎自动创建一个自增主键</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-48d22b2363579601962c96e1f427026c">7 - MySQL表操作</h1>
    <div class="lead">有了数据库以后，我们就可以在数据库中对表进行增删改查了</div>
	<p>有了数据库以后，我们就可以在数据库中对表进行增删改查了</p>
<p>MySQL是关系型数据库, 这个名词通俗来说就是把世界上的一切物体都实体化, 通过属性之间的关系管理数据</p>
<p>实体化的结果叫做表, 数据库中以表为组织单位存储数据</p>
<h4 id="查表">查表<a class="td-heading-self-link" href="#%e6%9f%a5%e8%a1%a8" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><p>首先指定数据库</p>
<p>查看当前数据库中的所有表，可以使用 </p>
<p><code>show tables</code></p>
<p>不首先指定数据库的话</p>
<p><code>show tables from 数据库名;</code></p>
<blockquote>
<p>提示:
这是查看表名的操作, 跟表结构没关系</p></blockquote>
<h4 id="建表">建表<a class="td-heading-self-link" href="#%e5%bb%ba%e8%a1%a8" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><div class="highlight"><pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#ca9ee6">create</span> <span style="color:#ca9ee6">table</span> <span style="color:#e78284">表名</span>(
</span></span><span style="display:flex;"><span>    <span style="color:#e78284">列名</span><span style="color:#ef9f76">1</span> <span style="color:#e78284">数据类型</span><span style="color:#ef9f76">1</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e78284">列名</span><span style="color:#ef9f76">2</span> <span style="color:#e78284">数据类型</span><span style="color:#ef9f76">2</span>,
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#e78284">列名</span>n <span style="color:#e78284">数据类型</span>n
</span></span><span style="display:flex;"><span>);
</span></span></code></pre></div><blockquote>
<p>了解:
<a href="/docs/basic/mysql/mysql%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/">MySQL数据类型</a></p></blockquote>
<p>这里可能会遇到问题</p>
<p><img src="https://raw.githubusercontent.com/hamhuo-hub/HamPic/img/img/20250210235135096.png" alt="image.png"></p>
<p>指示表已经存在了, 这时只能删掉以前的表
为了避免这种情况，我们可以在建表的时候，先判断表是否存在，如果不存在，再创建表，语法如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#ca9ee6">create</span> <span style="color:#ca9ee6">table</span> <span style="color:#ca9ee6">if</span> <span style="color:#ca9ee6">not</span> <span style="color:#ca9ee6">exists</span> <span style="color:#e78284">表名</span>(
</span></span><span style="display:flex;"><span>    <span style="color:#e78284">列名</span><span style="color:#ef9f76">1</span> <span style="color:#e78284">数据类型</span><span style="color:#ef9f76">1</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e78284">列名</span><span style="color:#ef9f76">2</span> <span style="color:#e78284">数据类型</span><span style="color:#ef9f76">2</span>,
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#e78284">列名</span>n <span style="color:#e78284">数据类型</span>n
</span></span><span style="display:flex;"><span>);
</span></span></code></pre></div><h4 id="注释">注释<a class="td-heading-self-link" href="#%e6%b3%a8%e9%87%8a" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><p>是的, 表也有注释, 在上百张表的情况下, 注释就很重要了</p>
<div class="highlight"><pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#ca9ee6">create</span> <span style="color:#ca9ee6">table</span> <span style="color:#e78284">表名</span>(
</span></span><span style="display:flex;"><span>    <span style="color:#e78284">列名</span><span style="color:#ef9f76">1</span> <span style="color:#e78284">数据类型</span><span style="color:#ef9f76">1</span> <span style="color:#ca9ee6">comment</span> <span style="color:#a6d189">&#39;注释1&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e78284">列名</span><span style="color:#ef9f76">2</span> <span style="color:#e78284">数据类型</span><span style="color:#ef9f76">2</span> <span style="color:#ca9ee6">comment</span> <span style="color:#a6d189">&#39;注释2&#39;</span>,
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#e78284">列名</span>n <span style="color:#e78284">数据类型</span>n <span style="color:#ca9ee6">comment</span> <span style="color:#a6d189">&#39;注释n&#39;</span>
</span></span><span style="display:flex;"><span>) <span style="color:#ca9ee6">comment</span> <span style="color:#a6d189">&#39;表注释&#39;</span>;
</span></span></code></pre></div><h4 id="查看表结构">查看表结构<a class="td-heading-self-link" href="#%e6%9f%a5%e7%9c%8b%e8%a1%a8%e7%bb%93%e6%9e%84" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><div class="highlight"><pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#ca9ee6">desc</span> <span style="color:#e78284">表名</span>;
</span></span><span style="display:flex;"><span><span style="color:#ca9ee6">describe</span> <span style="color:#e78284">表名</span>;
</span></span><span style="display:flex;"><span><span style="color:#ca9ee6">explain</span> <span style="color:#e78284">表名</span>;
</span></span><span style="display:flex;"><span><span style="color:#ca9ee6">show</span> columns <span style="color:#ca9ee6">from</span> <span style="color:#e78284">表名</span>;
</span></span><span style="display:flex;"><span><span style="color:#ca9ee6">show</span> fields <span style="color:#ca9ee6">from</span> <span style="color:#e78284">表名</span>;
</span></span></code></pre></div><p>上述指令效果完全一样</p>
<p><img src="https://raw.githubusercontent.com/hamhuo-hub/HamPic/img/img/20250210235526115.png" alt="image.png"></p>
<h4 id="改表">改表<a class="td-heading-self-link" href="#%e6%94%b9%e8%a1%a8" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><p>这需要一些数据库底层原理基础知识才能操作, 此处略过</p>
<blockquote>
<p>了解
<a href="/docs/basic/mysql/mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%80%E5%8D%95%E6%9F%A5%E8%AF%A2/">MySQL数据库简单查询</a>
<a href="/docs/basic/mysql/mysql%E5%AD%97%E7%AC%A6%E9%9B%86%E5%92%8C%E6%AF%94%E8%BE%83%E8%A7%84%E5%88%99/">MySQL字符集和比较规则</a></p></blockquote>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-72f6cc384aaed4cbd273131839780dae">8 - MySQL连接</h1>
    <div class="lead">在前几章节中，我们已经学会了如何在一张表中读取数据，这是相对简单的，但是在真正的应用中经常需要从多个数据表中读取数据。</div>
	<p>在前几章节中，我们已经学会了如何在一张表中读取数据，这是相对简单的，但是在真正的应用中经常需要从多个数据表中读取数据。</p>
<p>连接分为三种 内,  左, 右</p>
<h4 id="内连接">内连接<a class="td-heading-self-link" href="#%e5%86%85%e8%bf%9e%e6%8e%a5" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><p>INNER JOIN 返回两个表中满足连接条件的匹配行，以下是 INNER JOIN 语句的基本语法</p>
<div class="highlight"><pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#ca9ee6">SELECT</span> column1, column2, ...
</span></span><span style="display:flex;"><span><span style="color:#ca9ee6">FROM</span> table1
</span></span><span style="display:flex;"><span><span style="color:#ca9ee6">INNER</span> <span style="color:#ca9ee6">JOIN</span> table2 <span style="color:#ca9ee6">ON</span> table1.<span style="color:#ca9ee6">column_name</span> <span style="color:#99d1db;font-weight:bold">=</span> table2.<span style="color:#ca9ee6">column_name</span>;
</span></span></code></pre></div><ul>
<li><code>table1.column_name = table2.column_name</code> 是连接条件，指定了两个表中用于匹配的列。</li>
</ul>
<h4 id="左连接">左连接<a class="td-heading-self-link" href="#%e5%b7%a6%e8%bf%9e%e6%8e%a5" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><p>LEFT JOIN 返回左表的所有行，并包括右表中匹配的行，如果右表中没有匹配的行，将返回 NULL 值，以下是 LEFT JOIN 语句的基本语法：</p>
<div class="highlight"><pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#ca9ee6">SELECT</span> column1, column2, ...
</span></span><span style="display:flex;"><span><span style="color:#ca9ee6">FROM</span> table1
</span></span><span style="display:flex;"><span><span style="color:#ca9ee6">LEFT</span> <span style="color:#ca9ee6">JOIN</span> table2 <span style="color:#ca9ee6">ON</span> table1.<span style="color:#ca9ee6">column_name</span> <span style="color:#99d1db;font-weight:bold">=</span> table2.<span style="color:#ca9ee6">column_name</span>;
</span></span></code></pre></div><p>返回左表的所有行, 如果右表没有匹配就为NULL</p>
<h4 id="右连接">右连接<a class="td-heading-self-link" href="#%e5%8f%b3%e8%bf%9e%e6%8e%a5" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><p>不常使用, 因为可以用左连接交换表顺序达到相同效果</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-aec71f889e3edd1c2c139a8adbb7b003">9 - 事务</h1>
    <div class="lead">在关系型数据库中，事务的重要性不言而喻，只要对数据库稍有了解的人都知道事务具有 ACID 四个基本属性</div>
	<blockquote>
<p>引用:
go语言大佬, go语言设计与原理作者
[面向信仰编程 - draveness](<a href="https://draveness.me/mysql-innodb/">https://draveness.me/mysql-innodb/</a></p></blockquote>
<p>在关系型数据库中，事务的重要性不言而喻，只要对数据库稍有了解的人都知道事务具有 ACID 四个基本属性，</p>
<p>而我们不知道的可能就是数据库是如何实现这四个属性的；在这篇文章中，我们将对事务的实现进行分析，尝试理解数据库是如何实现事务的，当然我们也会在文章中简单对 MySQL 中对 ACID 的实现进行简单的介绍。</p>
<p>原子性, 一致性, 隔离性, 持久性
ACID</p>
<h4 id="原子性">原子性<a class="td-heading-self-link" href="#%e5%8e%9f%e5%ad%90%e6%80%a7" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><p>事务就是一系列的操作，要么全部都执行，要都不执行，这其实就是对事务原子性的刻画</p>
<p>如果事务不具备原子性，那么就没办法保证同一个事务中的所有操作都被执行或者未被执行了，整个数据库系统就既不可用也不可信。</p>
<blockquote>
<p>数据库的事务提交也是多线程并发的, 适用并发编程</p></blockquote>
<h4 id="持久性">持久性<a class="td-heading-self-link" href="#%e6%8c%81%e4%b9%85%e6%80%a7" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><p><img src="https://raw.githubusercontent.com/hamhuo-hub/HamPic/img/img/20250211011722492.png" alt="image.png"></p>
<p>数据被写入到数据库中，那么数据一定能够被安全存储在磁盘上, 这就是持久性</p>
<p>可能会奇怪, 除非硬盘挂掉, 为什么会存在持久性问题呢</p>
<p>其实持久性并非问题, 而是一种原则</p>
<p>一旦事务被提交，那么数据一定会被写入到数据库中并持久存储起来。
也就是当数据被写到硬盘后, 不允许撤销!</p>
<blockquote>
<p><em>当事务已经被提交之后，就无法再次回滚了，唯一能够撤回已经提交的事务的方式就是创建一个相反的事务对原操作进行『补偿』，这也是事务持久性的体现之一。</em></p></blockquote>
<h4 id="隔离性">隔离性<a class="td-heading-self-link" href="#%e9%9a%94%e7%a6%bb%e6%80%a7" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><p>数据库的事务之间没有隔离性, 就会发生级联回滚的问题, 造成性能上的巨大损失</p>
<p>如果所有的事务的执行顺序都是线性的，那么对于事务的管理容易得多，但是允许事务的并行执行却能能够提升吞吐量和资源利用率，并且可以减少每个事务的等待时间。</p>
<h4 id="一致性">一致性<a class="td-heading-self-link" href="#%e4%b8%80%e8%87%b4%e6%80%a7" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><p>分为两种一致性</p>
<p>ACID 和 CAP</p>
<p>其中ACID定义为, 如果事务原子性的一个一致的数据库中独立运行, 那么执行之后数据库的状态是一定的, 在事务的执行的前后以及过程中不会违背对数据完整性的约束, 所有对数据库写入的操作都应该是合法的，并不能产生不合法的数据状态。</p>
<p>CAP则是通常的一致性, 其实是说分布式系统中的各个节点中对于同一数据的拷贝有着相同的值, 也就是存储可见性</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-08e11208f63c4c90dea1f03705b7cce5">10 - 数据库设计规范</h1>
    <div class="lead">数据库的三大范式，它是数据库设计中最基本的三个规范</div>
	<p>数据库的三大范式，它是数据库设计中最基本的三个规范，那么，三大范式是什么？在实际开发中，我们一定要严格遵守三大范式吗？</p>
<h4 id="第一范式">第一范式<a class="td-heading-self-link" href="#%e7%ac%ac%e4%b8%80%e8%8c%83%e5%bc%8f" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><p>确保每列原子性
也就是字段的值是原子的, 不可再分割</p>
<h4 id="第二范式">第二范式<a class="td-heading-self-link" href="#%e7%ac%ac%e4%ba%8c%e8%8c%83%e5%bc%8f" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><p>确保表中的每列和主键相关</p>
<p>第二范式在第一范式的基础上, 消除表的部分依赖</p>
<p>即非主键字段必须完全依赖于主键，而不是仅依赖于主键的一部分。</p>
<p><img src="https://raw.githubusercontent.com/hamhuo-hub/HamPic/img/img/20250212002938008.png" alt="image.png"></p>
<p>这里和订单id(主键) 有关的只有数量和商品ID</p>
<p>拆成两张表</p>
<p><img src="https://raw.githubusercontent.com/hamhuo-hub/HamPic/img/img/20250212003059979.png" alt="image.png"></p>
<p><img src="https://raw.githubusercontent.com/hamhuo-hub/HamPic/img/img/20250212003105718.png" alt="image.png"></p>
<h4 id="第三范式">第三范式<a class="td-heading-self-link" href="#%e7%ac%ac%e4%b8%89%e8%8c%83%e5%bc%8f" aria-label="Heading self-link"></a></h4>
<meta name="baidu-site-verification" content="codeva-23xblvQ4Jb" /><p>确保每列都与主键列直接相关, 而不是间接相关</p>
<p>在第二范式的基础上, 消除表的传递依赖</p>
<p>所有非主键字段必须直接依赖于主键，而不是通过其他非主键字段间接依赖。</p>
<p><img src="https://raw.githubusercontent.com/hamhuo-hub/HamPic/img/img/20250212004058261.png" alt="image.png"></p>
<p>在这个表中，<code>部门名称</code>依赖于<code>部门ID</code>，而<code>部门ID</code>依赖于主键<code>员工ID</code>，形成了传递依赖，违反了3NF。</p>

</div>



    
	
  



          </main>
        </div>
      </div>
      <footer class="td-footer row d-print-none">
  <div class="container-fluid">
    <div class="row mx-md-2">
      <div class="td-footer__left col-6 col-sm-4 order-sm-1">
        <ul class="td-footer__links-list">
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="User mailing list" aria-label="User mailing list">
    <a target="_blank" rel="noopener" href="https://example.org/mail" aria-label="User mailing list">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="Twitter" aria-label="Twitter">
    <a target="_blank" rel="noopener" href="https://example.org/twitter" aria-label="Twitter">
      <i class="fab fa-twitter"></i>
    </a>
  </li>
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="Stack Overflow" aria-label="Stack Overflow">
    <a target="_blank" rel="noopener" href="https://example.org/stack" aria-label="Stack Overflow">
      <i class="fab fa-stack-overflow"></i>
    </a>
  </li>
  
</ul>

      </div><div class="td-footer__right col-6 col-sm-4 order-sm-3">
        <ul class="td-footer__links-list">
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="GitHub" aria-label="GitHub">
    <a target="_blank" rel="noopener" href="https://github.com/hamhuo-hub/seaku" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="Slack" aria-label="Slack">
    <a target="_blank" rel="noopener" href="https://example.org/slack" aria-label="Slack">
      <i class="fab fa-slack"></i>
    </a>
  </li>
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="Developer mailing list" aria-label="Developer mailing list">
    <a target="_blank" rel="noopener" href="https://example.org/mail" aria-label="Developer mailing list">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
</ul>

      </div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2">
        <span class="td-footer__copyright">&copy;
    2025&ndash;2025
    <span class="td-footer__authors">海阔知识库 | <a href="https://creativecommons.org/licenses/by/4.0">CC BY 4.0</a> |</span></span><span class="td-footer__all_rights_reserved">All Rights Reserved</span><span class="ms-2"><a href="https://policies.google.com/privacy" target="_blank" rel="noopener">Privacy Policy</a></span>
      </div>
    </div>
  </div>
</footer>

    </div>
    <script src="/js/main.min.f72d00502781aaf278a14088eb2356b1ba2a05ad698a0c43fe86314d74ceab56.js" integrity="sha256-9y0AUCeBqvJ4oUCI6yNWsboqBa1pigxD/oYxTXTOq1Y=" crossorigin="anonymous"></script>
<script defer src="/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js" integrity="sha256-c0eKfUgHaYrtfjVesj&#43;YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin="anonymous"></script>
<script src='/js/tabpane-persist.js'></script>

  </body>
</html>
